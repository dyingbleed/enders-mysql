[mysqld]
datadir={{ mysql_datadir }}
pid_file=/var/run/mysqld/mysqld.pid
socket=/var/lib/mysql/mysql.sock
port=3306
user=mysql

tmp_table_size=32M
max_heap_table_size=32M
thread_cache_size=13
table_open_cache=4000
max_connections=500
open_files_limit=65535

###########
# Logging #
###########
log_error=/var/log/mysql-error.log
#slow_query_log=ON
#slow_query_log_file=/var/log/mysql-slow

##########
# InnoDB #
##########
innodb_dedicated_server=ON
innodb_file_per_table=1
innodb_flush_log_at_trx_commit=1

###############
# Replication #
###############
server_id={{ mysql_server_id }}
log_bin=ON
binlog_format=ROW
binlog_ignore_db=mysql,sys,information_schema,performance_schema
sync_binlog=1
gtid_mode=ON
enforce_gtid_consistency=ON